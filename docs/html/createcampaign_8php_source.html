<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Constant Contact for WordPress: createcampaign.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-horizontal.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Constant Contact for WordPress
   &#160;<span id="projectnumber">3.0.1</span>
   </div>
   <div id="projectbrief">Powerfully integrate Constant Contact into your WordPress website.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('createcampaign_8php_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">createcampaign.php</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;session_start ();</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;require_once(<span class="stringliteral">&#39;../ConstantContact.php&#39;</span>);</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;require_once(<span class="stringliteral">&#39;../config.php&#39;</span>);</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor"># This example is intended to be used with the OAuth 2.0 example_verification.php script that is distributed in the root folder of the Constant Contact PHP Wrapper Library.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor"></span><span class="preprocessor"># The full url for the example_verification.php script should be used as the Redirect URI in the settings for your API Key, which can be accessed and updated here: http://community.constantcontact.com/t5/Documentation/API-Keys/ba-p/25015.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span><span class="preprocessor"># The example_verification.php url must also be used for the $verificationURL value in config.php file for the wrapper libary (the API Key Redirect URI, and the script use to carry out the OAuth 2.0 flow must be the same, per OAuth 2.0 standards). </span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span><span class="preprocessor"># The code below checks to see if the wrapper library has a user in the datastore that has been authorized during the current session.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor"></span><span class="preprocessor"># If so, a form is loaded, and a request to create an email campaign is executed when the form is submitted.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor"></span><span class="preprocessor"># An object created from the XML in the API response is then echoed below the form, or an HTTP status code/error will be displayed.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor"></span><span class="preprocessor"># If the authorization is not current for the current session, an OAuth exception is throw, and a link to begin the OAuth 2.0 flow is provided.  </span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor"></span><span class="preprocessor"># As authorization/authentication credentials are stored in the session by default, navigating away from your server, of failing to include session_start(); at the top of any intermediary scripts executed after authorization will cause credentials to be lost, so we recommend altering the functions in the CTCTDataStore() class or otherwise adding code of your own to save the OAuth access token securely on your server by whatever means is best suited to your needs.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;?&gt;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;&lt;h2&gt;Simple Add/Create <a class="code" href="class_campaign.html">Campaign</a> Example&lt;/h2&gt;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;&lt;?php</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keywordflow">if</span>($username){</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    $ConstantContact = <span class="keyword">new</span> <a class="code" href="class_constant_contact.html">ConstantContact</a>(<span class="stringliteral">&#39;oauth2&#39;</span>, $apiKey, $username, $accessToken);</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="comment">//gets first 50 contact lists, if more exist, a nextlink is returned in the $ContactLists object </span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    $ContactLists = $ConstantContact-&gt;getLists();</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">//gets verified account email addresses which can be used as from and rely-to addresses</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    $VerifiedAddresses = $ConstantContact-&gt;getVerifiedAddresses();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    $testCampaign = <span class="keyword">new</span> <a class="code" href="class_campaign.html">Campaign</a>();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;?&gt;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;&lt;form name=<span class="stringliteral">&quot;addCampaign&quot;</span> action=<span class="stringliteral">&quot;&quot;</span> method=<span class="stringliteral">&quot;post&quot;</span>&gt;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="class_campaign.html">Campaign</a> Name: &lt;input type=<span class="stringliteral">&quot;text&quot;</span> size=<span class="stringliteral">&quot;50&quot;</span> name=<span class="stringliteral">&quot;campaign_name&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    Subject Line: &lt;input type=<span class="stringliteral">&quot;text&quot;</span> size=<span class="stringliteral">&quot;50&quot;</span> name=<span class="stringliteral">&quot;subject_line&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    From Name: &lt;input type=<span class="stringliteral">&quot;text&quot;</span> size=<span class="stringliteral">&quot;50&quot;</span> name=<span class="stringliteral">&quot;from_name&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    &lt;h4&gt;From Email Address&lt;/h4&gt;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    &lt;div style=<span class="stringliteral">&quot;overflow: auto; width: 400px;&quot;</span>&gt;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    &lt;?php </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">foreach</span>($VerifiedAddresses[<span class="stringliteral">&#39;addresses&#39;</span>] as $key=&gt;$addr){</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        echo <span class="stringliteral">&#39;&lt;input type=&quot;radio&quot; name=&quot;from&quot; value=&quot;&#39;</span>.$key.<span class="stringliteral">&#39;&quot;&gt; &#39;</span>.$addr-&gt;email.<span class="stringliteral">&#39;&lt;br /&gt;&#39;</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    ?&gt;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    &lt;/div&gt;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    &lt;h4&gt;Reply-to Email Address&lt;/h4&gt;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    &lt;div style=<span class="stringliteral">&quot;overflow: auto; width: 400px;&quot;</span>&gt;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    &lt;?php </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">foreach</span>($VerifiedAddresses[<span class="stringliteral">&#39;addresses&#39;</span>] as $key=&gt;$addr){</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        echo <span class="stringliteral">&#39;&lt;input type=&quot;radio&quot; name=&quot;reply_to&quot; value=&quot;&#39;</span>.$key.<span class="stringliteral">&#39;&quot;&gt; &#39;</span>.$addr-&gt;email.<span class="stringliteral">&#39;&lt;br /&gt;&#39;</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    ?&gt;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    &lt;/div&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    Include View as Webpage link: &lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;webpage_version&quot;</span> value=<span class="stringliteral">&quot;YES&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    View as Webpage Text: &lt;input type=<span class="stringliteral">&quot;text&quot;</span> size=<span class="stringliteral">&quot;50&quot;</span> name=<span class="stringliteral">&quot;webpage_version_text&quot;</span> /&gt; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    link text: &lt;input type=<span class="stringliteral">&quot;text&quot;</span> size=<span class="stringliteral">&quot;50&quot;</span> name=<span class="stringliteral">&quot;webpage_link_text&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    Include Permission Reminder: &lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;permission_reminder&quot;</span> value=<span class="stringliteral">&quot;YES&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    Permission Reminder Text: &lt;br /&gt;&lt;textarea cols=<span class="stringliteral">&quot;80&quot;</span> rows=<span class="stringliteral">&quot;2&quot;</span> name=<span class="stringliteral">&quot;permission_reminder_text&quot;</span>&gt;&lt;/textarea&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    Include Forward to a Friend Link: &lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;forward_link&quot;</span> value=<span class="stringliteral">&quot;YES&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    Forward Link Text: &lt;br /&gt;&lt;input size=<span class="stringliteral">&quot;50&quot;</span> name=<span class="stringliteral">&quot;forward_link_text&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    Include Subscribe link in Forwarded emails: &lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> name=<span class="stringliteral">&quot;subscribe_link&quot;</span> value=<span class="stringliteral">&quot;YES&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    Subscribe Link Text: &lt;br /&gt;&lt;input size=<span class="stringliteral">&quot;50&quot;</span> name=<span class="stringliteral">&quot;subscribe_link_text&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    Email Type: &lt;input type=<span class="stringliteral">&quot;radio&quot;</span> name=<span class="stringliteral">&quot;email_type&quot;</span> value=<span class="stringliteral">&quot;HTML&quot;</span> /&gt;HTML &lt;input type=<span class="stringliteral">&quot;radio&quot;</span> name=<span class="stringliteral">&quot;email_type&quot;</span> value=<span class="stringliteral">&quot;XHTML&quot;</span> /&gt;XHTML&lt;br /&gt;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    Email Content (HTML Code): &lt;br /&gt;&lt;textarea cols=<span class="stringliteral">&quot;80&quot;</span> rows=<span class="stringliteral">&quot;10&quot;</span> type=<span class="stringliteral">&quot;text&quot;</span> name=<span class="stringliteral">&quot;email_content&quot;</span>&gt;&lt;/textarea&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    Text Version Content: &lt;br /&gt;&lt;textarea cols=<span class="stringliteral">&quot;80&quot;</span> rows=<span class="stringliteral">&quot;10&quot;</span> type=<span class="stringliteral">&quot;text&quot;</span> name=<span class="stringliteral">&quot;text_version&quot;</span>&gt;&lt;/textarea&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    Style Sheet (XHTML ONLY): &lt;br /&gt;&lt;textarea cols=<span class="stringliteral">&quot;80&quot;</span> rows=<span class="stringliteral">&quot;10&quot;</span> type=<span class="stringliteral">&quot;text&quot;</span> name=<span class="stringliteral">&quot;style_sheet&quot;</span>&gt;&lt;/textarea&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    &lt;h4&gt;<a class="code" href="class_contact.html">Contact</a> Lists (first 50)&lt;/h4&gt;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    &lt;div style=<span class="stringliteral">&quot;border: 1px #000 solid; overflow: auto; width: 400px; height: 400px;&quot;</span>&gt;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    &lt;?php</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    foreach($ContactLists[<span class="stringliteral">&#39;lists&#39;</span>] as $list){</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        echo <span class="stringliteral">&#39;&lt;input type=&quot;checkbox&quot; name=&quot;lists[]&quot; value=&quot;&#39;</span>.$list-&gt;id.<span class="stringliteral">&#39;&quot;&gt; &#39;</span>.$list-&gt;name.<span class="stringliteral">&#39;&lt;br /&gt;&#39;</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    ?&gt;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    &lt;/div&gt;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    &lt;input type=<span class="stringliteral">&quot;submit&quot;</span> name=<span class="stringliteral">&quot;submit&quot;</span> value=<span class="stringliteral">&quot;Create Campaign&quot;</span> /&gt;&lt;br /&gt;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;&lt;/form&gt;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;&lt;?php</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span>(isset($_POST[<span class="stringliteral">&#39;campaign_name&#39;</span>])){</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        $Campaign = <span class="keyword">new</span> <a class="code" href="class_campaign.html">Campaign</a>();</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        $Campaign-&gt;name = $_POST[<span class="stringliteral">&#39;campaign_name&#39;</span>];</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        $Campaign-&gt;subject = $_POST[<span class="stringliteral">&#39;subject_line&#39;</span>];</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    $Campaign-&gt;fromName = $_POST[<span class="stringliteral">&#39;from_name&#39;</span>];</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    $Campaign-&gt;vawp = $_POST[<span class="stringliteral">&#39;webpage_version&#39;</span>];</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    $Campaign-&gt;vawpText = $_POST[<span class="stringliteral">&#39;webpage_version_text&#39;</span>];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    $Campaign-&gt;vawpLinkText = $_POST[<span class="stringliteral">&#39;webpage_link_text&#39;</span>];</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    $Campaign-&gt;permissionReminder = $_POST[<span class="stringliteral">&#39;permission_reminder&#39;</span>];</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    $Campaign-&gt;permissionReminderText = $_POST[<span class="stringliteral">&#39;permission_reminder_text&#39;</span>];</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    $Campaign-&gt;incForwardEmail = $_POST[<span class="stringliteral">&#39;forward_link&#39;</span>];</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    $Campaign-&gt;forwardEmailLinkText = $_POST[<span class="stringliteral">&#39;forward_link_text&#39;</span>];</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    $Campaign-&gt;incSubscribeLink = $_POST[<span class="stringliteral">&#39;subscribe_link&#39;</span>];</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    $Campaign-&gt;subscribeLinkText = $_POST[<span class="stringliteral">&#39;subscribe_link_text&#39;</span>];</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        $Campaign-&gt;emailContentType = $_POST[<span class="stringliteral">&#39;email_type&#39;</span>];</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        $Campaign-&gt;emailContent = $_POST[<span class="stringliteral">&#39;email_content&#39;</span>];</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        $Campaign-&gt;textVersionContent = $_POST[<span class="stringliteral">&#39;text_version&#39;</span>];</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    $Campaign-&gt;styleSheet = $_POST[<span class="stringliteral">&#39;style_sheet&#39;</span>];</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    $Campaign-&gt;lists = $_POST[<span class="stringliteral">&#39;lists&#39;</span>];</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="comment">// add campaign to Constant Contact account</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        $NewCampaign = $ConstantContact-&gt;addCampaign($Campaign, $VerifiedAddresses[<span class="stringliteral">&#39;addresses&#39;</span>][$_POST[<span class="stringliteral">&#39;from&#39;</span>]], $VerifiedAddresses[<span class="stringliteral">&#39;addresses&#39;</span>][$_POST[<span class="stringliteral">&#39;reply_to&#39;</span>]]);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span>($NewCampaign){</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            echo <span class="stringliteral">&quot;Campaign Added. This is your newly created campaign&#39;s raw information&lt;br /&gt;&lt;pre&gt;&quot;</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            print_r($NewCampaign);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            echo <span class="stringliteral">&quot;&lt;/pre&gt;&quot;</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;} </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keywordflow">else</span> {echo <span class="stringliteral">&#39; Click &lt;a href=&quot;../example_verification.php?apiKey=&#39;</span>.$apiKey.<span class="stringliteral">&#39;&amp;secret=&#39;</span>.$consumerSecret.<span class="stringliteral">&#39;&amp;return=&#39;</span>.$_SERVER[<span class="stringliteral">&#39;SERVER_NAME&#39;</span>].$_SERVER[<span class="stringliteral">&#39;REQUEST_URI&#39;</span>].<span class="stringliteral">&#39;&quot;&gt;here&lt;/a&gt; to authorize&#39;</span>;}</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;?&gt;</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1da4270117b7b4041d4491270373a02b.html">lib</a></li><li class="navelem"><a class="el" href="dir_f2449522035e263841afc52939e742cf.html">eventspot</a></li><li class="navelem"><a class="el" href="dir_3ca40f9cd20312b013e3193dfc8dd9fe.html">ctct_php_library</a></li><li class="navelem"><a class="el" href="dir_fa7f16ad89df0ddd115a4788d3bb71c2.html">examples</a></li><li class="navelem"><b>createcampaign.php</b></li>
    <li class="footer">Generated on Thu Aug 22 2013 14:50:45 for Constant Contact for WordPress by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
